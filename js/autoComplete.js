var substringMatcher = function(strs) {
  return function findMatches(q, cb) {
    var matches, substringRegex;

    matches = [];

    substrRegex = new RegExp(q, 'i');

    $.each(strs, function(i, str) {
      if (substrRegex.test(str)) {
        matches.push(str);
      }
    });

    cb(matches);
  };
};

var spells = ['acid splash', 'aid', 'alarm', 'alter self', 'animal friendship', 'animal messenger', 'animal shapes', 'animate dead', 'animate objects', 'antilife shell', 'antimagic field', 'antipathysympathy', 'arcane eye', 'arcane gate', 'arcane hand', 'arcane lock', 'arcane sword', 'arcanists magic aura', 'armour of agathys', 'arms of hadar', 'astral projection', 'augury', 'aura of life', 'aura of purity', 'aura of vitality', 'awaken', 'bane', 'banishing smite', 'banishment', 'barkskin', 'beacon of hope', 'beast sense', 'bestow curse', 'bigbys crushing hand', 'blade barrier', 'bless', 'blight', 'blinding smite', 'blindnessdeafness', 'blink', 'blur', 'branding smite', 'burning hands', 'call lightning', 'calm emotions', 'chain lightning', 'charm person', 'chill touch', 'chromatic orb', 'circle of death', 'circle of power', 'clairvoyance', 'clone', 'cloud of daggers', 'cloudkill', 'color spray', 'command', 'commune', 'commune with nature', 'compelled duel', 'comprehend languages', 'compulsion', 'cone of cold', 'confusion', 'conjure animals', 'conjure barrage', 'conjure celestial', 'conjure elemental', 'conjure fey', 'conjure minor elemental', 'conjure volley', 'conjure woodland beings', 'contact other plane', 'contagion', 'contingency', 'continual flame', 'control water', 'control weather', 'cordon of arrows', 'counterspell', 'create food and water', 'create or destroy water', 'create undead', 'creation', 'crown of madness', 'crusaders mantle', 'cure wounds', 'dancing lights', 'darkness', 'darkvision', 'daylight', 'death ward', 'delayed blast fireball', 'demiplane', 'destructive wave', 'detect evil and good', 'detect magic', 'detect poison and disease', 'detect thoughts', 'dimension door', 'disguise self', 'disintegrate', 'dispel evil and good', 'dispel magic', 'dissonant whispers', 'divination', 'divine favor', 'divine word', 'dominate beast', 'dominate monster', 'dominate person', 'drawmijs instant summons', 'dream', 'druidcraft', 'earthquake', 'eldritch blast', 'elemental weapon', 'enhance ability', 'enlargereduce', 'ensnaring strike', 'entangle', 'enthrall', 'etherealness', 'evards black tentacles', 'expeditious retreat', 'eyebite', 'fabricate', 'faerie fire', 'false life', 'fear', 'feather fall', 'feeblemind', 'find familiar', 'find steed', 'find the path', 'find traps', 'finger of death', 'fire bolt', 'fire shield', 'fire storm', 'fireball', 'flame blade', 'flame strike', 'flaming sphere', 'flesh to stone', 'fly', 'fog cloud', 'forbiddance', 'forcecage', 'foresight', 'freedom of movement', 'friends', 'gaseous form', 'gate', 'geas', 'gentle repose', 'giant insect', 'gilbness', 'globe of invulnerability', 'glyph of warding', 'goodberry', 'grasping vine', 'grease', 'greater invisibility', 'greater restoration', 'guardian of faith', 'guards and wards', 'guidance', 'guiding bolt', 'gust of wind', 'hail of thorns', 'hallow', 'hallucinatory terrain', 'harm', 'haste', 'heal', 'healing word', 'heat metal', 'hellish rebuke', 'heroes feast', 'herosim', 'hex', 'hold monster', 'hold person', 'holy aura', 'hunger of hadar', 'hunters mark', 'hypnotic pattern', 'ice storm', 'identify', 'illusionary script', 'imprisonment', 'incendiary cloud', 'infict wounds', 'insect plague', 'invisibility', 'jump', 'knock', 'legend lore', 'leominds secret chest', 'leomunds tiny hut', 'lesser restoration', 'levitate', 'light', 'lightning arrow', 'lightning bolt', 'locate animals or plants', 'locate creature', 'locate object', 'longstrider', 'mage armor', 'mage hand', 'magic circle', 'magic jar', 'magic missile', 'magic mouth', 'magic weapon', 'major image', 'mass cure wounds', 'mass heal', 'mass healing word', 'mass suggestion', 'maze', 'meld into stone', 'melfs acid arrow', 'mending', 'message', 'meteor swarm', 'mind blank', 'minor illusion', 'mirage arcane', 'mirror image', 'mislead', 'misty step', 'modify memory', 'moonbeam', 'mordenkainens faithful hound',  'mordenkainens magnificent mansion', 'mordenkainens private sanctum', 'move earth', 'nondetection', 'otilukes freezing sphere', 'otilukes resilient sphere', 'ottos irresistable dance', 'pass without trace', 'passwall', 'phantasmal killer', 'phantom steed', 'planar ally', 'planar binding', 'plane shift', 'plant growth', 'poison spray', 'polymorph', 'power word kill', 'power word stun', 'prayer of healing', 'prestidigitation', 'prismatic spray', 'prismatic wall', 'produce flame', 'programmed illusion', 'project image', 'protection from evil and good', 'protection from poison', 'purify food and drink', 'raise dead', 'rarys telepathic bond', 'ray of enfeeblement', 'ray of frost', 'regenerate', 'reincarnate', 'remove curse', 'resistane', 'ressurection', 'reverse gravity', 'revivify', 'rope trick', 'sacred flame', 'sanctuary', 'scorching ray', 'scrying', 'see invisibility', 'seeming', 'sending', 'sequester', 'shapechange', 'shatter', 'shield', 'shield of faith', 'shilelagh', 'shocking grasp', 'silence', 'silent image', 'simularcrum', 'sleep', 'sleet storm', 'slow', 'spare the dying', 'speak with animals', 'speak with plants', 'spider climb', 'spike growth', 'spirit guardians', 'spiritual weapon', 'stinking cloud', 'stone shape', 'stoneskin', 'storm of vengeance', 'suggestion', 'sunbeam', 'sunburst', 'symbol', 'tashas hideous laughter', 'telekinesis', 'teleport', 'teleportation circle', 'tensers floating disk', 'thaumaturgy', 'thunderwave', 'time stop', 'tongues', 'transport via plants', 'tree stride', 'true stride', 'true polymorph', 'true seeing', 'true strike', 'unseen servant', 'vampiric touch', 'vicious mockery', 'wall of fire', 'wall of force', 'wall of stone', 'wall of thorns', 'warding bond', 'water breathing', 'water walk', 'web', 'weird', 'wind walk','wind wall', 'wish', 'word of recall', 'zone of truth'
];

$('#the-basics .typeahead').typeahead({
  hint: true,
  highlight: true,
  minLength: 1
},
{
  name: 'spells',
  source: substringMatcher(spells)
});